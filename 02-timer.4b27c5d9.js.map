{"mappings":"oeAEA,IAAAA,EAAAC,EAAA,SAIA,MAAMC,EAAiBC,SAASC,cAAc,oBACxCC,EAAcF,SAASC,cAAc,sBACrCE,EAAQH,SAASC,cAAc,UAC/BG,EAASJ,SAASK,iBAAiB,UACnCC,EAASN,SAASK,iBAAiB,UACnCE,EAAYP,SAASC,cAAc,mBACnCO,EAAaR,SAASC,cAAc,oBACpCQ,EAAeT,SAASC,cAAc,sBACtCS,EAAeV,SAASC,cAAc,sBAI5CE,EAAMQ,MAAMC,QAAU,OACtBT,EAAMQ,MAAME,IAAM,OAClBV,EAAMQ,MAAMG,WAAa,OAEzBR,EAAOS,SAAQC,IACbA,EAAML,MAAMC,QAAU,QACtBI,EAAML,MAAMM,cAAgB,YAC5BD,EAAML,MAAMO,WAAa,MACzBF,EAAML,MAAMQ,SAAW,OACvBH,EAAML,MAAMS,UAAY,QAAQ,IAElChB,EAAOW,SAAQM,IACbA,EAAMV,MAAMC,QAAU,QACtBS,EAAMV,MAAMQ,SAAW,OACvBE,EAAMV,MAAMS,UAAY,QAAQ,IAGlC,IAAIE,EAAwB,KACxBC,EAAmB,KACnBC,EAAa,KA2BjB,SAASC,EAAeJ,GACtB,OAAOK,OAAOL,GAAOM,SAAS,EAAG,I,CA1BnCzB,EAAY0B,UAAW,EAiDvB,MAAMC,EAAU,CACdC,YAAY,EACZC,WAAW,EACXC,YAAa,IAAIC,KACjBC,gBAAiB,EACjBC,QAAQC,GAlBV,IAA2BC,EAmBvBC,QAAQC,IAAIH,EAAc,IAnBHC,EAoBLD,EAAc,GAnBlCI,EAAUC,KAAKjB,GACfF,EAAwBe,EAASK,UAC7BpB,EAAwBW,KAAKU,OAC/BzC,EAAY0B,UAAW,EACfL,GAAmB,IAE3B1B,EAAA+C,OAAOC,QAAQ,sCACfP,QAAQC,IAAI,6C,GAgBVC,EAAY,CAChBM,QACE5C,EAAY0B,UAAW,EACvBU,QAAQC,IAAI,wBACZf,EAAauB,aAAY,KACvB,MAAMC,EAAmBf,KAAKU,MAC1BpB,KArCV,UAAyB0B,KAAEA,EAAIC,MAAEA,EAAKC,QAAEA,EAAOC,QAAEA,IAC/C7C,EAAU8C,YAAc,GAAGJ,IAC3BzC,EAAW6C,YAAc,GAAGH,IAC5BzC,EAAa4C,YAAc,GAAGF,IAC9BzC,EAAa2C,YAAc,GAAGD,G,CAkCxBE,CA/DR,SAAmBC,GAEjB,MACMC,EAASC,IACTC,EAAOF,KACPG,EAAa,GAAPD,EAaZ,MAAO,C,KAVMjC,EAAemC,KAAKC,MAAMN,EAAKI,I,MAE9BlC,EAAemC,KAAKC,MAAMN,EAAMI,EAAOD,I,QAErCjC,EAAemC,KAAKC,MAAMN,EAAOI,EAAOD,EAAQF,I,QAEhD/B,EACdmC,KAAKC,MAAMN,EAAQI,EAAOD,EAAQF,EAbrB,M,CA6DOM,CAAUxC,EAAwB0B,IAC9C1B,EAAwB0B,GAAoB,MAC9CR,EAAUC,KAAKjB,GACf3B,EAAA+C,OAAOmB,QAAQ,wBACfzB,QAAQC,IAAI,yB,GAGf,I,EAELE,KAAKuB,GACHC,cAAcD,E,GAIlBE,UAAUnE,EAAgB8B,GAE1B3B,EAAYiE,iBAAiB,QAAS3B,EAAUM","sources":["src/js/02-timer.js"],"sourcesContent":["\n\nimport { Notify } from 'notiflix/build/notiflix-notify-aio';\n\n\n\nconst datetimePicker = document.querySelector('#datetime-picker');\nconst startButton = document.querySelector('button[data-start]');\nconst timer = document.querySelector('.timer');\nconst values = document.querySelectorAll('.value');\nconst labels = document.querySelectorAll('.label');\nconst clockDays = document.querySelector('span[data-days]');\nconst clockHours = document.querySelector('span[data-hours]');\nconst clockMinutes = document.querySelector('span[data-minutes]');\nconst clockSeconds = document.querySelector('span[data-seconds]');\n\n\n\ntimer.style.display = 'flex';\ntimer.style.gap = '20px';\ntimer.style.paddingTop = '20px';\n\nlabels.forEach(label => {\n  label.style.display = 'block';\n  label.style.textTransform = 'uppercase';\n  label.style.fontWeight = '700';\n  label.style.fontSize = '10px';\n  label.style.textAlign = 'center';\n});\nvalues.forEach(value => {\n  value.style.display = 'block';\n  value.style.fontSize = '30px';\n  value.style.textAlign = 'center';\n});\n\nlet selectedDateTimestamp = null;\nlet selectedDateIsOk = null;\nlet intervalID = null;\n\nstartButton.disabled = true;\n\n\n\nfunction convertMs(ms) {\n  \n  const second = 1000;\n  const minute = second * 60;\n  const hour = minute * 60;\n  const day = hour * 24;\n\n  \n  const days = addLeadingZero(Math.floor(ms / day));\n \n  const hours = addLeadingZero(Math.floor((ms % day) / hour));\n \n  const minutes = addLeadingZero(Math.floor(((ms % day) % hour) / minute));\n  \n  const seconds = addLeadingZero(\n    Math.floor((((ms % day) % hour) % minute) / second)\n  );\n\n  return { days, hours, minutes, seconds };\n}\n\nfunction addLeadingZero(value) {\n  return String(value).padStart(2, '0');\n}\n\nfunction updateClockface({ days, hours, minutes, seconds }) {\n  clockDays.textContent = `${days}`;\n  clockHours.textContent = `${hours}`;\n  clockMinutes.textContent = `${minutes}`;\n  clockSeconds.textContent = `${seconds}`;\n}\n\nfunction checkSelectedDate(DateTime) {\n  countdown.stop(intervalID);\n  selectedDateTimestamp = DateTime.getTime();\n  if (selectedDateTimestamp > Date.now()) {\n    startButton.disabled = false;\n    return (selectedDateIsOk = true);\n  } else {\n    Notify.failure('Please choose a date in the future');\n    console.log('Error: Please choose a date in the future');\n    return;\n  }\n}\n\nconst options = {\n  enableTime: true,\n  time_24hr: true,\n  defaultDate: new Date(),\n  minuteIncrement: 1,\n  onClose(selectedDates) {\n    console.log(selectedDates[0]);\n    checkSelectedDate(selectedDates[0]);\n  },\n};\n\nconst countdown = {\n  start() {\n    startButton.disabled = true;\n    console.log('Countdown is started');\n    intervalID = setInterval(() => {\n      const currentTimestamp = Date.now();\n      if (selectedDateIsOk) {\n        updateClockface(convertMs(selectedDateTimestamp - currentTimestamp));\n        if (selectedDateTimestamp - currentTimestamp <= 1000) {\n          countdown.stop(intervalID);\n          Notify.success('Countdown completed!');\n          console.log('Countdown completed!');\n        }\n      }\n    }, 1000);\n  },\n  stop(id) {\n    clearInterval(id);\n  },\n};\n\nflatpickr(datetimePicker, options);\n\nstartButton.addEventListener('click', countdown.start);"],"names":["$iQIUW","parcelRequire","$40d383fb392a7037$var$datetimePicker","document","querySelector","$40d383fb392a7037$var$startButton","$40d383fb392a7037$var$timer","$40d383fb392a7037$var$values","querySelectorAll","$40d383fb392a7037$var$labels","$40d383fb392a7037$var$clockDays","$40d383fb392a7037$var$clockHours","$40d383fb392a7037$var$clockMinutes","$40d383fb392a7037$var$clockSeconds","style","display","gap","paddingTop","forEach","label","textTransform","fontWeight","fontSize","textAlign","value","$40d383fb392a7037$var$selectedDateTimestamp","$40d383fb392a7037$var$selectedDateIsOk","$40d383fb392a7037$var$intervalID","$40d383fb392a7037$var$addLeadingZero","String","padStart","disabled","$40d383fb392a7037$var$options","enableTime","time_24hr","defaultDate","Date","minuteIncrement","onClose","selectedDates","DateTime","console","log","$40d383fb392a7037$var$countdown","stop","getTime","now","Notify","failure","start","setInterval","currentTimestamp","days","hours","minutes","seconds","textContent","$40d383fb392a7037$var$updateClockface","ms","minute","second","hour","day","Math","floor","$40d383fb392a7037$var$convertMs","success","id","clearInterval","flatpickr","addEventListener"],"version":3,"file":"02-timer.4b27c5d9.js.map"}